@model Patient

@{
    ViewData["Title"] = "Patient Details";
    ViewData["HideFooter"] = true;
}

<div class="container mx-auto px-4 py-6">
    <h2 class="text-3xl font-bold text-gray-800 mb-6">@Model.FirstName @Model.MiddleName @Model.LastName</h2>

    <!-- Primary patient details -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
        <div>
            <h3 class="text-xl font-semibold text-gray-800 mb-2">Primary Details</h3>
            <p><strong class="font-medium text-gray-700">Full Name:</strong> @Model.FirstName @Model.MiddleName @Model.LastName</p>
            <p><strong class="font-medium text-gray-700">Date of Birth:</strong> @Model.DateOfBirth.ToShortDateString()</p>
            <p><strong class="font-medium text-gray-700">Contact Number:</strong> @Model.ContactNumber</p>
            <p><strong class="font-medium text-gray-700">Address:</strong> @Model.Address</p>
            <!-- for Email -->
            <p><strong class="font-medium text-gray-700">Age:</strong> @Model.Age</p>
            <p><strong class="font-medium text-gray-700">Gender:</strong> @Model.Gender</p>

        </div>
        <div>
            <h3 class="text-xl font-semibold text-gray-800 mb-2">Additional Details</h3>
            <p><strong class="font-medium text-gray-700">Occupation:</strong> @Model.Occupation</p>
            <p><strong class="font-medium text-gray-700">Employer:</strong> @Model.Employer</p>
            <p><strong class="font-medium text-gray-700">Marital Status:</strong> @Model.MaritalStatus</p>
            <p><strong class="font-medium text-gray-700">Spouse Name:</strong> @Model.SpouseName</p>
        </div>
    </div>

    <!-- Show See More button to reveal more details -->
    <button id="seeMoreBtn" onclick="toggleMoreDetails()" class="btn btn-primary mb-6">See More</button>

    <!-- More details (initially hidden) -->
    <div id="moreDetails" style="display:none;">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
            <div>
                <h3 class="text-xl font-semibold text-gray-800 mb-2">Basic Medical Information</h3>
                <p><strong class="font-medium text-gray-700">Weight:</strong> @Model.Weight</p>
                <p><strong class="font-medium text-gray-700">Height:</strong> @Model.Height</p>
                <p><strong class="font-medium text-gray-700">Blood Pressure:</strong> @Model.BloodPressure</p>
                <p><strong class="font-medium text-gray-700">Past Medical History:</strong> @Model.PastMedicalHistory</p>
                <p><strong class="font-medium text-gray-700">Family History:</strong> @Model.FamilyHistory</p>
            </div>
            <div>
                <h3 class="text-xl font-semibold text-gray-800 mb-2">Emergency Contact</h3>
                <p><strong class="font-medium text-gray-700">Emergency Contact:</strong> @Model.EmergencyPerson</p>
                <p><strong class="font-medium text-gray-700">Relationship:</strong> @Model.EmergencyRelationship</p>
                <p><strong class="font-medium text-gray-700">Contact Number:</strong> @Model.EmergencyContact</p>
            </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
            <div>
                <h3 class="text-xl font-semibold text-gray-800 mb-2">Guardian Details (For Minors)</h3>
                <p><strong class="font-medium text-gray-700">Parent/Guardian Name:</strong> @Model.ParentGuardianName</p>
                <p><strong class="font-medium text-gray-700">Parent/Guardian Contact:</strong> @Model.ParentGuardianContact</p>
            </div>
            <div>
                <h3 class="text-xl font-semibold text-gray-800 mb-2">Insurance Details</h3>
                <p><strong class="font-medium text-gray-700">Insurance Details:</strong> @Model.InsuranceDetails</p>
                <p><strong class="font-medium text-gray-700">Primary Care Provider:</strong> @Model.PrimaryCareProvider</p>
            </div>
        </div>
    </div>

    <!-- Buttons for navigation -->
    <div class="flex space-x-4 mt-8">
        <a href="@Url.Action("Transactions", "Payment", new { patientId = Model.Id })"
           class="bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 transition duration-300">View Payments</a>
        <a href="@Url.Action("Record", "MedicalRecord", new { patientId = Model.Id })"
           class="bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 transition duration-300">View Medical Records</a>
    </div>

</div>

@section Scripts {
    <script>
        function toggleMoreDetails() {
            var moreDetails = document.getElementById("moreDetails");
            var seeMoreBtn = document.getElementById("seeMoreBtn");

            if (moreDetails.style.display === "none") {
                moreDetails.style.display = "block";
                seeMoreBtn.innerText = "See Less"; // Change button text
            } else {
                moreDetails.style.display = "none";
                seeMoreBtn.innerText = "See More"; // Change button text
            }
        }
    </script>
}
